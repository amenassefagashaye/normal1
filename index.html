<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>·ä†·à∞·çã ·ã≤·åÇ·â≥·àç ·â¢·äï·åé ·å®·ãã·â≥</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Audio Elements -->
    <audio id="callAudio" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-bell-notification-933.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="winAudio" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
    </audio>

    <!-- Triple Border Container -->
    <div class="border-container">
        <div class="main-container">
            <!-- Color Borders -->
            <div class="page-border green"></div>
            <div class="page-border yellow"></div>
            <div class="page-border red"></div>

            <!-- Connection Status -->
            <div id="connectionStatus" class="connection-status">
                <span id="statusText">Connecting...</span>
                <span id="onlineCount">0 online</span>
            </div>

            <!-- Page 0: Welcome -->
            <div class="page-container active" id="page0">
                <button class="help-circle-btn" onclick="showPage(5)">?</button>
                
                <div class="page-content">
                    <div class="welcome-content">
                        <div class="game-title amharic-text">·ä†·à∞·çã ·ã≤·åÇ·â≥·àç ·â¢·äï·åé ·å®·ãã·â≥</div>
                        <div style="font-size: 14px; color: #ffd700; margin-bottom: 30px; text-align: center;">
                            Multiplayer Edition (AGBDBG)
                        </div>
                        
                        <div class="server-status">
                            <div class="status-item">
                                <span class="status-label">Server:</span>
                                <span id="serverStatus" class="status-connected">‚óè Connected</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Players:</span>
                                <span id="playersCount">0</span> online
                            </div>
                            <div class="status-item">
                                <span class="status-label">Games:</span>
                                <span id="activeGames">0</span> active
                            </div>
                        </div>

                        <button class="start-btn-circle" onclick="showPage(1)">
                            <div style="font-size: 24px;">üéÆ</div>
                        </button>
                        
                        <div class="welcome-buttons">
                            <button class="welcome-btn" onclick="window.open('admin.html', '_blank')">
                                <span>üîê</span>
                                <span class="amharic-text">·ä†·àµ·â∞·ã≥·ã∞·à≠</span>
                            </button>
                            <button class="welcome-btn" onclick="showPage(5)">
                                <span>üìö</span>
                                <span class="amharic-text">·ä•·à≠·ã≥·â≥</span>
                            </button>
                        </div>

                        <div class="developer-text amharic-text">·ä†·à∞·çã ·åã·àª·ã¨ ·â•·à≠·àÉ·äï·äê·àÖ</div>
                    </div>
                </div>
            </div>

            <!-- Page 1: Board Selection -->
            <div class="page-container" id="page1">
                <div class="page-content">
                    <div class="page-header amharic-text">·ã®·â¶·à≠·ãµ ·ãì·ã≠·äê·âµ ·ã≠·àù·à®·å°</div>
                    <div class="board-selection-container">
                        <div class="board-type-grid" id="boardTypeGrid"></div>
                    </div>
                </div>
                
                <div class="fixed-controls">
                    <button class="control-btn btn-secondary" onclick="showPage(0)">·â∞·àò·àà·àµ</button>
                    <button class="control-btn btn-success" id="nextBtn">·âÄ·å•·àç</button>
                </div>
            </div>

            <!-- Page 2: Registration -->
            <div class="page-container" id="page2">
                <div class="page-content">
                    <!-- Registration Top Bar -->
                    <div class="registration-top-bar">
                        <button class="top-bar-btn win-btn" onclick="showPotentialWin()">üèÜ</button>
                        <div class="registration-title amharic-text">·àù·ãù·åà·â£</div>
                        <button class="top-bar-btn members-btn" onclick="showMembers()">üë•</button>
                    </div>
                    
                    <div class="registration-form">
                        <div class="form-scroll">
                            <div class="form-group">
                                <label for="playerName" class="amharic-text">·àµ·àù</label>
                                <input type="text" id="playerName" class="form-control" placeholder="·àô·àâ ·àµ·àù">
                            </div>
                            
                            <div class="form-group">
                                <label for="playerPhone" class="amharic-text">·àµ·àç·ä≠</label>
                                <input type="tel" id="playerPhone" class="form-control" placeholder="0918203416">
                            </div>
                            
                            <div class="payment-section">
                                <div class="payment-info">
                                    <div class="payment-item">
                                        <span class="amharic-text">·ãç·à≠·à≠·ãµ:</span>
                                        <span id="stakeAmount" class="payment-value">25 ·â•·à≠</span>
                                    </div>
                                    <div class="payment-item">
                                        <span class="amharic-text">·àä·ã´·à∏·äï·çâ·âµ:</span>
                                        <span id="potentialWin" class="payment-value win-amount">0 ·â•·à≠</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="playerStake" class="amharic-text">·ãç·à≠·à≠·ãµ ·àò·å†·äï</label>
                                <select id="playerStake" class="form-control">
                                    <option value="25">25 ·â•·à≠</option>
                                    <option value="50">50 ·â•·à≠</option>
                                    <option value="100">100 ·â•·à≠</option>
                                    <option value="200">200 ·â•·à≠</option>
                                    <option value="500">500 ·â•·à≠</option>
                                    <option value="1000">1000 ·â•·à≠</option>
                                    <option value="2000">2000 ·â•·à≠</option>
                                    <option value="5000">5000 ·â•·à≠</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="boardSelect" class="amharic-text">·ã®·â¶·à≠·ãµ ·âÅ·å•·à≠</label>
                                <select id="boardSelect" class="form-control">
                                    <option value="">1-100</option>
                                </select>
                            </div>
                            
                            <div class="current-game-info" id="currentGameInfo" style="display: none;">
                                <div class="game-info-header amharic-text">·ã®·ä†·àÅ·äë ·å®·ãã·â≥</div>
                                <div class="game-info-content">
                                    <div class="info-row">
                                        <span class="info-label">·ä†·ã≠·äê·âµ:</span>
                                        <span id="currentGameType" class="info-value">75-·â¢·äï·åé</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">·â∞·å´·ãã·âæ·âΩ:</span>
                                        <span id="currentGamePlayers" class="info-value">0/90</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">·àÅ·äî·â≥:</span>
                                        <span id="currentGameStatus" class="info-value status-waiting">·â†·àò·å†·â£·â†·âÖ ·àã·ã≠</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fixed-controls">
                    <button class="control-btn btn-secondary" onclick="showPage(1)">·â∞·àò·àà·àµ</button>
                    <button class="control-btn btn-success" id="confirmBtn" onclick="joinGame()">·å®·ãã·â≥ ·ã≠·âÄ·àã·âÄ·àâ</button>
                </div>
            </div>

            <!-- Page 3: Lobby -->
            <div class="page-container" id="page3">
                <div class="game-header">
                    <div class="game-title-bar amharic-text">
                        <span id="lobbyTitle">·ã®·å®·ãã·â≥ ·àù·ã∞·â£</span>
                        <span id="gameStatus" class="game-status waiting">·â†·àò·å†·â£·â†·âÖ ·àã·ã≠</span>
                    </div>
                </div>
                
                <div class="game-board-container lobby-container">
                    <div class="lobby-content">
                        <div class="game-info-panel">
                            <div class="info-card">
                                <div class="info-icon">üéÆ</div>
                                <div class="info-text">
                                    <div class="info-label amharic-text">·ã®·â¶·à≠·ãµ ·ä†·ã≠·äê·âµ</div>
                                    <div class="info-value amharic-text" id="lobbyGameType">75-·â¢·äï·åé</div>
                                </div>
                            </div>
                            <div class="info-card">
                                <div class="info-icon">üë•</div>
                                <div class="info-text">
                                    <div class="info-label amharic-text">·â∞·å´·ãã·âæ·âΩ</div>
                                    <div class="info-value">
                                        <span id="currentPlayers">0</span>/<span id="maxPlayers">90</span>
                                    </div>
                                </div>
                            </div>
                            <div class="info-card">
                                <div class="info-icon">üí∞</div>
                                <div class="info-text">
                                    <div class="info-label amharic-text">·ãç·à≠·à≠·ãµ</div>
                                    <div class="info-value" id="lobbyStake">25 ·â•·à≠</div>
                                </div>
                            </div>
                            <div class="info-card">
                                <div class="info-icon">üèÜ</div>
                                <div class="info-text">
                                    <div class="info-label amharic-text">·àΩ·àç·àõ·âµ</div>
                                    <div class="info-value win-amount" id="lobbyPrize">0 ·â•·à≠</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="players-section">
                            <div class="section-header">
                                <h3 class="amharic-text">·â∞·å´·ãã·âæ·âΩ</h3>
                                <div class="search-box">
                                    <input type="text" id="playerSearch" placeholder="·çà·àç·åç..." class="search-input">
                                </div>
                            </div>
                            <div class="players-list" id="playersList">
                                <!-- Players will be added here -->
                                <div class="empty-list amharic-text">
                                    ·â∞·å´·ãã·âæ·âΩ ·ä†·àç·â∞·åà·äô·àù...
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-section">
                            <div class="section-header">
                                <h3 class="amharic-text">·ãç·ã≠·ã≠·âµ</h3>
                                <div class="chat-count">
                                    <span id="messageCount">0</span> ·àò·àç·ãï·ä≠·â∂·âΩ
                                </div>
                            </div>
                            <div class="chat-messages" id="chatMessages">
                                <div class="welcome-message">
                                    <div class="message-sender">·àµ·à≠·ãì·âµ:</div>
                                    <div class="message-text amharic-text">·ã®·â¢·äï·åé ·å®·ãã·â≥ ·ä•·äï·ä≥·äï ·â†·ã∞·àÖ·äì ·àò·å°!</div>
                                    <div class="message-time">·ä†·àÅ·äï</div>
                                </div>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chatInput" placeholder="·àò·àç·ä•·ä≠·âµ ·ã≠·åª·çâ..." maxlength="200">
                                <button onclick="sendChatMessage()" class="send-btn">‚û§</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fixed-controls">
                    <button class="control-btn btn-danger" onclick="leaveLobby()">·ä†·âÅ·àù</button>
                    <button class="control-btn btn-success" id="readyBtn" onclick="toggleReady()">·ãù·åç·åÅ ·äê·äù</button>
                </div>
            </div>

            <!-- Page 4: Game Board -->
            <div class="page-container" id="page4">
                <div class="game-header">
                    <div class="game-info-bar">
                        <div class="player-info">
                            <span class="player-name amharic-text" id="playerDisplayName">Guest</span>
                            <span class="player-id">ID: <span id="playerIdDisplay">0000</span></span>
                        </div>
                        <div class="game-info">
                            <span class="game-type amharic-text" id="displayGameType">75-·â¢·äï·åé</span>
                            <span class="stake-display" id="displayStake">25 ·â•·à≠</span>
                            <span class="balance-display">·âÄ·à™: <span id="balanceDisplay">0</span> ·â•·à≠</span>
                        </div>
                    </div>
                    <div class="game-controls-bar">
                        <button class="mini-btn" onclick="toggleAudio()" id="audioBtn" title="·ãµ·àù·åΩ">üîä</button>
                        <button class="mini-btn" onclick="showPage(3)" title="·àù·ã∞·â£">üë•</button>
                        <button class="mini-btn" onclick="showPage(5)" title="·ä•·à≠·ã≥·â≥">‚ùì</button>
                    </div>
                </div>
                
                <div class="game-board-container">
                    <div id="gameBoard">
                        <div class="loading-board amharic-text">
                            ·â¶·à≠·ãµ ·ä•·ã®·â∞·å´·äê ·äê·ãç...
                        </div>
                    </div>
                </div>
                
                <div class="circular-call-container">
                    <div class="called-numbers-bar" id="calledNumbersBar">
                        <div class="called-numbers-title amharic-text">·ã®·â∞·å†·à© ·âÅ·å•·àÆ·âΩ:</div>
                        <div class="called-numbers-scroll" id="calledNumbersScroll">
                            <span class="no-numbers amharic-text">·âÅ·å•·àÆ·âΩ ·ä†·àç·â∞·å†·à©·àù</span>
                        </div>
                    </div>
                    <button class="circular-call-btn" id="circularCallBtn">
                        <div id="currentNumberDisplay">üéØ</div>
                    </button>
                </div>

                <div class="game-stats-bar">
                    <div class="stat-item">
                        <span class="stat-label amharic-text">·âÅ·å•·àÆ·âΩ:</span>
                        <span id="calledCount" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label amharic-text">·àù·àç·ä≠·âµ ·ã®·â∞·ã∞·à®·åà:</span>
                        <span id="markedCount" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label amharic-text">·âÄ·à™ ·âÅ·å•·àÆ·âΩ:</span>
                        <span id="remainingCount" class="stat-value">24</span>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="control-btn btn-secondary" onclick="leaveGame()">·ãà·å£</button>
                    <button class="control-btn btn-success" id="bingoBtn" onclick="claimBingo()" disabled>
                        <span>·â¢·äï·åé!</span>
                    </button>
                    <button class="control-btn btn-info" onclick="toggleAutoMark()">
                        <span id="autoMarkText">·à´·àµ-·à∞·à≠ ·àù·àç·ä≠·âµ</span>
                    </button>
                </div>
            </div>

            <!-- Page 5: Help -->
            <div class="page-container" id="page5">
                <div class="page-content">
                    <div class="page-header amharic-text">·ä•·à≠·ã≥·â≥ / Help</div>
                    
                    <div class="help-content">
                        <div class="help-section">
                            <div class="help-title amharic-text">·ã®·â£·àà·â•·ãô ·â∞·å´·ãã·âΩ ·å®·ãã·â≥ ·àò·àò·à™·ã´</div>
                            <div class="help-text amharic-text">
                                1. <strong>·àõ·åà·äì·äò·âµ:</strong> ·å®·ãã·â≥·ãç ·â†·à´·àµ-·à∞·à≠ ·ä®·à∞·à≠·â®·à≠ ·åã·à≠ ·ã≠·åà·äì·äõ·àç<br>
                                2. <strong>·àù·ãù·åà·â£:</strong> ·àµ·àù·ç£ ·àµ·àç·ä≠ ·ä•·äì ·ãç·à≠·à≠·ãµ ·ã´·àµ·åà·â°<br>
                                3. <strong>·àù·ã∞·â£:</strong> ·â∞·å´·ãã·âæ·âΩ·äï ·ã≠·àò·àç·ä®·â± ·ä•·äì ·ãù·åç·åÅ ·ã´·àÖ·àâ<br>
                                4. <strong>·å®·ãã·â≥:</strong> ·âÅ·å•·àÆ·âΩ ·â†·à∞·à≠·â®·à≠ ·ã≠·å†·à´·àâ·ç£ ·â†·â¶·à≠·ãµ·ãé ·àã·ã≠ ·àù·àç·ä≠·âµ ·ã´·ãµ·à≠·åâ<br>
                                5. <strong>·àõ·à∏·äê·çç:</strong> ·äï·ãµ·çç ·àô·àâ ·à≤·àÜ·äï "·â¢·äï·åé!" ·ã®·àö·àà·ãç·äï ·ã≠·äï·ä©
                            </div>
                            <div class="help-text">
                                1. <strong>Connect:</strong> Game auto-connects to server<br>
                                2. <strong>Register:</strong> Enter name, phone and stake<br>
                                3. <strong>Lobby:</strong> View players and click ready<br>
                                4. <strong>Game:</strong> Numbers called by server, mark on your board<br>
                                5. <strong>Win:</strong> When pattern completes, click "Bingo!"
                            </div>
                        </div>
                        
                        <div class="help-section">
                            <div class="help-title amharic-text">·ã®·à∞·à≠·â®·à≠ ·åç·äï·äô·äê·âµ</div>
                            <div class="help-text amharic-text">
                                ‚Ä¢ ·âÄ·ã≠ ·àò·â•·à´·âµ: ·ä®·à∞·à≠·â®·à≠ ·åã·à≠ ·åç·äï·äô·äê·âµ ·â∞·âã·à≠·åß·àç<br>
                                ‚Ä¢ ·ä†·à®·äï·åì·ã¥ ·àò·â•·à´·âµ: ·ä®·à∞·à≠·â®·à≠ ·åã·à≠ ·â∞·åà·äì·äù·â∑·àç<br>
                                ‚Ä¢ ·ã®·â•·à≠ ·âÅ·å•·à≠: ·ã®·â∞·åà·äì·äô ·â∞·å´·ãã·âæ·âΩ ·âÅ·å•·à≠<br>
                                ‚Ä¢ ·ã®·å®·ãã·â≥ ·àÅ·äî·â≥: ·â†·àù·ã∞·â£/·â†·àò·å´·ãà·âµ ·àã·ã≠/·ã´·àç·âã·àç
                            </div>
                            <div class="help-text">
                                ‚Ä¢ Red light: Disconnected from server<br>
                                ‚Ä¢ Green light: Connected to server<br>
                                ‚Ä¢ Player count: Number of connected players<br>
                                ‚Ä¢ Game status: In lobby/playing/finished
                            </div>
                        </div>
                        
                        <div class="help-section">
                            <div class="help-title amharic-text">·ã®·à∞·à≠·â®·à≠ ·âÅ·å•·å•·à≠</div>
                            <div class="help-text amharic-text">
                                ‚Ä¢ ·âÅ·å•·àÆ·âΩ ·â†·à∞·à≠·â®·à≠ ·ã≠·å†·à´·àâ (·àÅ·àà 7 ·à∞·ä®·äï·ãµ)<br>
                                ‚Ä¢ ·àÅ·àâ·àù ·â∞·å´·ãã·âæ·âΩ ·â∞·àò·à≥·à≥·ã≠ ·âÅ·å•·àÆ·âΩ ·ã≠·à∞·àõ·àâ<br>
                                ‚Ä¢ ·ä†·à∏·äì·çä·äê·âµ ·â†·à∞·à≠·â®·à≠ ·ã≠·à®·åã·åà·å£·àç<br>
                                ‚Ä¢ ·ãç·ã≠·ã≠·âµ ·àà·àÅ·àâ·àù ·â∞·å´·ãã·âæ·âΩ ·ã≠·â≥·ã´·àç<br>
                                ‚Ä¢ ·ã®·ä†·àµ·â∞·ã≥·ã∞·à≠ ·çì·äê·àç: admin.html ·ã≠·ä≠·çà·â±
                            </div>
                            <div class="help-text">
                                ‚Ä¢ Numbers called by server (every 7 seconds)<br>
                                ‚Ä¢ All players hear same numbers<br>
                                ‚Ä¢ Winning verified by server<br>
                                ‚Ä¢ Chat visible to all players<br>
                                ‚Ä¢ Admin panel: Open admin.html
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="fixed-controls">
                    <button class="control-btn btn-success" onclick="showPage(0)">·â∞·àò·àà·àµ</button>
                </div>
            </div>

            <!-- Winner Notification -->
            <div class="winner-notification" id="winnerNotification">
                <div class="winner-content">
                    <div class="winner-icon">üéâ</div>
                    <div class="winner-title amharic-text">·â¢·äï·åé!</div>
                    <div class="winner-name amharic-text" id="winnerName"></div>
                    <div class="winner-pattern amharic-text" id="winPattern"></div>
                    <div class="winner-amount win-amount" id="winAmount">0 ·â•·à≠</div>
                    <div class="winner-message amharic-text">·ä†·à®·åã·åç·åß·àç ‚úì</div>
                    <button class="control-btn btn-success" onclick="hideWinner()">·âÄ·å•·àç</button>
                </div>
            </div>

            <!-- Global Notification -->
            <div class="global-notification" id="globalNotification">
                <div class="notification-content amharic-text" id="notificationContent"></div>
                <button class="notification-close" onclick="hideNotification()">‚úï</button>
            </div>
        </div>
    </div>

    <!-- WebSocket Client Script -->
    <script src="client.js"></script>
</body>
</html>
